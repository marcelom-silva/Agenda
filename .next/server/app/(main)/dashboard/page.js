(()=>{var e={};e.id=248,e.ids=[248],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},52694:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>p,routeModule:()=>u,tree:()=>d}),r(69538),r(37137),r(35866),r(84752);var s=r(23191),o=r(88716),n=r(37922),i=r.n(n),a=r(95231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["(main)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,69538)),"C:\\Users\\User\\Cryptos\\projects\\agenda-pocketplanner\\app\\(main)\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,37137)),"C:\\Users\\User\\Cryptos\\projects\\agenda-pocketplanner\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,84752)),"C:\\Users\\User\\Cryptos\\projects\\agenda-pocketplanner\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\User\\Cryptos\\projects\\agenda-pocketplanner\\app\\(main)\\dashboard\\page.tsx"],c="/(main)/dashboard/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(main)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67427:(e,t,r)=>{Promise.resolve().then(r.bind(r,61018))},42114:(e,t,r)=>{Promise.resolve().then(r.bind(r,96084))},54333:(e,t,r)=>{Promise.resolve().then(r.bind(r,78143))},25489:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},61018:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(10326),o=r(17577);let n=({task:e,onEdit:t,onDelete:r})=>(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"3px",padding:"10px",marginBottom:"8px",boxShadow:"0 1px 0 rgba(9,30,66,.25)",cursor:"grab",borderLeft:e.colorTag?`5px solid ${e.colorTag}`:"none"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h4",{style:{margin:"0 0 5px 0",fontSize:"14px"},children:e.title}),(0,s.jsxs)("div",{children:[s.jsx("button",{onClick:()=>t(e),style:{marginRight:"5px",padding:"3px 5px",fontSize:"10px",cursor:"pointer"},children:"Editar"}),s.jsx("button",{onClick:()=>r(e.id),style:{padding:"3px 5px",fontSize:"10px",cursor:"pointer",backgroundColor:"#dc3545",color:"white",border:"none"},children:"Excluir"})]})]}),e.description&&s.jsx("p",{style:{fontSize:"12px",color:"#5e6c84",margin:"0 0 5px 0"},children:e.description})]}),i=({columnId:e,title:t,tasks:r,onEditTask:o,onDeleteTask:i})=>(0,s.jsxs)("div",{style:{backgroundColor:"#f4f5f7",borderRadius:"3px",width:"300px",minHeight:"400px",padding:"10px",marginRight:"10px",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("h3",{style:{paddingBottom:"10px",borderBottom:"1px solid #ccc",marginBottom:"10px"},children:[t," (",r.length,")"]}),s.jsx("div",{style:{flexGrow:1,minHeight:"100px"},children:r.map((e,t)=>s.jsx("div",{style:{marginBottom:"8px"},children:s.jsx(n,{task:e,onEdit:o,onDelete:i})},e.id))})]}),a=({isOpen:e,onClose:t,onSave:r,task:n})=>{let[i,a]=(0,o.useState)(""),[l,d]=(0,o.useState)(""),[p,c]=(0,o.useState)("todo");return((0,o.useEffect)(()=>{n?(a(n.title||""),d(n.description||""),c(n.status||"todo")):(a(""),d(""),c("todo"))},[n,e]),e)?s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"5px",width:"400px"},children:[s.jsx("h2",{children:n?"Editar Tarefa":"Nova Tarefa"}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!i.trim()){alert("O t\xedtulo \xe9 obrigat\xf3rio.");return}let t={...n||{},title:i,description:l,status:p};if(n?.id)r(t);else{let{id:e,...s}=t;r(s)}},children:[(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[s.jsx("label",{htmlFor:"title",children:"T\xedtulo:"}),s.jsx("input",{type:"text",id:"title",value:i,onChange:e=>a(e.target.value),style:{width:"100%",padding:"8px",boxSizing:"border-box"},required:!0})]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[s.jsx("label",{htmlFor:"description",children:"Descri\xe7\xe3o:"}),s.jsx("textarea",{id:"description",value:l,onChange:e=>d(e.target.value),style:{width:"100%",padding:"8px",minHeight:"80px",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[s.jsx("label",{htmlFor:"status",children:"Status:"}),(0,s.jsxs)("select",{id:"status",value:p,onChange:e=>c(e.target.value),style:{width:"100%",padding:"8px",boxSizing:"border-box"},children:[s.jsx("option",{value:"todo",children:"A Fazer"}),s.jsx("option",{value:"doing",children:"Fazendo"}),s.jsx("option",{value:"done",children:"Feito"})]})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[s.jsx("button",{type:"button",onClick:t,style:{padding:"10px 15px"},children:"Cancelar"}),s.jsx("button",{type:"submit",style:{padding:"10px 15px",backgroundColor:"#007bff",color:"white",border:"none"},children:"Salvar"})]})]})]})}):null},l=()=>{let[e,t]=(0,o.useState)({todo:[],doing:[],done:[]}),[r,n]=(0,o.useState)(!1),[l,d]=(0,o.useState)(null),[p,c]=(0,o.useState)(!0),x=(0,o.useCallback)(async()=>{c(!0);try{let e=await fetch("/api/tasks");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let r=await e.json(),s={todo:[],doing:[],done:[]};for(let e in r.forEach(e=>{e.status&&s[e.status]?s[e.status].push(e):s.todo.push({...e,status:"todo"})}),s)s[e].sort((e,t)=>(e.order??1/0)-(t.order??1/0)||new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime());t(s)}catch(e){console.error("Falha ao buscar tarefas:",e)}finally{c(!1)}},[]);(0,o.useEffect)(()=>{x()},[x]);let u=e=>{d(e||null),n(!0)},h=()=>{n(!1),d(null)},g=async e=>{let t={...e,status:e.status||l?.status||"todo"};try{let e;if(l&&l.id)e=await fetch(`/api/tasks/${l.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});else{let{id:r,...s}=t;e=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}if(!e.ok){let t=await e.json();throw Error(t.error||`HTTP error! status: ${e.status}`)}x(),h()}catch(e){console.error("Falha ao salvar tarefa:",e),alert(`Erro ao salvar tarefa: ${e instanceof Error?e.message:String(e)}`)}},f=async e=>{if(confirm("Tem certeza que deseja excluir esta tarefa?"))try{let t=await fetch(`/api/tasks/${e}`,{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||`HTTP error! status: ${t.status}`)}x()}catch(e){console.error("Falha ao excluir tarefa:",e),alert(`Erro ao excluir tarefa: ${e instanceof Error?e.message:String(e)}`)}};return p?s.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Carregando tarefas..."}):(0,s.jsxs)("div",{style:{padding:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[s.jsx("h1",{children:"Quadro Kanban"}),s.jsx("button",{onClick:()=>u(),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Nova Tarefa"})]}),s.jsx("div",{style:{display:"flex",gap:"20px",overflowX:"auto"},children:[{id:"todo",title:"A Fazer"},{id:"doing",title:"Fazendo"},{id:"done",title:"Feito"}].map(t=>s.jsx(i,{columnId:t.id,title:t.title,tasks:e[t.id]||[],onEditTask:u,onDeleteTask:f},t.id))}),r&&s.jsx(a,{isOpen:r,onClose:h,onSave:g,task:l})]})};function d(){return s.jsx("div",{children:s.jsx(l,{})})}},96084:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(10326),o=r(17577),n=r(90434),i=r(77109),a=r(35047);let l=()=>{let{data:e,status:t}=(0,i.useSession)(),[r,s]=(0,o.useState)("idle"),[n,a]=(0,o.useState)(null);return(0,o.useEffect)(()=>{"authenticated"===t&&e?.user},[e,t]),null};function d({children:e}){let{data:t,status:r}=(0,i.useSession)();return((0,a.useRouter)(),"loading"===r)?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:s.jsx("p",{children:"Carregando sua sess\xe3o..."})}):t?(0,s.jsxs)("div",{style:{display:"flex",height:"100vh"},children:[s.jsx(l,{})," ",(0,s.jsxs)("aside",{style:{width:"250px",backgroundColor:"#f0f0f0",padding:"20px",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{children:"PocketPlanner"}),s.jsx("nav",{children:(0,s.jsxs)("ul",{style:{listStyleType:"none",padding:0},children:[s.jsx("li",{style:{marginBottom:"10px"},children:s.jsx(n.default,{href:"/dashboard",children:"Dashboard (Tarefas)"})}),s.jsx("li",{style:{marginBottom:"10px"},children:s.jsx(n.default,{href:"/financeiro",children:"Financeiro"})})]})})]}),(0,s.jsxs)("div",{style:{marginTop:"auto",paddingTop:"20px",borderTop:"1px solid #ccc"},children:[(0,s.jsxs)("p",{children:["Usu\xe1rio: ",t.user?.name||t.user?.email]}),s.jsx("button",{onClick:()=>(0,i.signOut)({callbackUrl:"/"}),style:{width:"100%",padding:"10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Sair"})]})]}),s.jsx("main",{style:{flexGrow:1,padding:"20px",overflowY:"auto"},children:e})]}):null}},78143:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),o=r(77109);function n({children:e}){return s.jsx(o.SessionProvider,{children:e})}r(17577)},69538:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\User\Cryptos\projects\agenda-pocketplanner\app\(main)\dashboard\page.tsx#default`)},37137:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\User\Cryptos\projects\agenda-pocketplanner\app\(main)\layout.tsx#default`)},84752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>n});var s=r(19510);r(67272);let o=(0,r(68570).createProxy)(String.raw`C:\Users\User\Cryptos\projects\agenda-pocketplanner\app\providers.tsx#default`),n={title:"Agenda Pocket Planner",description:"Sua agenda pessoal e financeira"};function i({children:e}){return s.jsx("html",{lang:"pt-BR",children:(0,s.jsxs)("body",{children:[s.jsx(o,{children:e})," "]})})}},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,159,496],()=>r(52694));module.exports=s})();